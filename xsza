table1Data: any[];
  table2Data: any[];
  joinedData: any[];


ngOnInit(): void {
    this.getdata().subscribe((data: any[]) => {
      this.table1Data = data;
      this.joinTables();
    });

    this.getteamAssigned().subscribe((data: any[]) => {
      this.table2Data = data;
      this.joinTables();
    });
  }
 getdata() {
    const apiUrls = 'your_api_url_for_table1Data';
    const requestBody = {};
    const httpOptions = {
      headers: new HttpHeaders({
        'content-Type': 'application/json'
      })
    };
    return this.http.get(apiUrls, httpOptions);
  }

  getteamAssigned() {
    const apiUrls = 'your_api_url_for_table2Data';
    const requestBody = {};
    const httpOptions = {
      headers: new HttpHeaders({
        'content-Type': 'application/json'
      })
    };
    return this.http.get(apiUrls, httpOptions);
  }

  joinTables(): void {
    if (this.table1Data && this.table2Data) {
      this.joinedData = this.getJoinedData();
    }
  }

  getJoinedData(): any[] {
    let joinedData: any[] = [];

    this.table1Data.forEach((item1: any) => {
      this.table2Data.forEach((item2: any) => {
        if (item1.commonKey === item2.supportId) {
          joinedData.push({
            supportId: item2.supportId,
            firstName: item1.firstName,
            lastName: item1.lastName,
            plantId: item2.plantId,
            isChangeAnalyst: item2.isChangeAnalyst,
            isSupportEngineer: item2.isSupportEngineer,
            isApprover: item2.isApprover,
          });
        }
      });
    });

    return joinedData;
  }
