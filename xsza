<table class="fl-table" *ngIf="supportData.length > 0">
<tbody>
    <!-- Iterate over supportData and create table rows -->
    <tr *ngFor="let data of supportData" class="tr-body">
      <td>{{ data.supportId }}</td>
      <td>{{ data.firstName + ' ' + data.lastName }}</td>
      <td>{{ data.plantId }}</td>
      <td>
        <i *ngIf="data.isChangeAnalyst" class="fas fa-check"></i>
        <i *ngIf="!data.isChangeAnalyst" class="fas fa-times"></i>
      </td>
      <td>
        <i *ngIf="data.isSupportEngineer" class="fas fa-check"></i>
        <i *ngIf="!data.isSupportEngineer" class="fas fa-times"></i>
      </td>
      <td>
        <i *ngIf="data.isApprover" class="fas fa-check"></i>
        <i *ngIf="!data.isApprover" class="fas fa-times"></i>
      </td>
      <td>
        <a href="" [routerLink]="'/support'">
          <i class="fa fa-eye" style="font-size:15px;color:black"></i>
        </a>
      </td>
    </tr>
  </tbody>
</table>
<div *ngIf="supportData.length === 0">No data available</div>


  fetchData() {
    const apiUrl1 = this.apiurl + '/SupportTeam';
    const apiUrl2 = this.apiurl + '/SupportteamAssigned';

    this.http.get(apiUrl1).subscribe((data1: any[]) => {
      this.http.get(apiUrl2).subscribe((data2: any[]) => {
        // Merge data from both APIs
        this.supportData = this.mergeData(data1, data2);
      });
    });
  }

  mergeData(data1: any[], data2: any[]): SupportData[] {
    const mergedData: SupportData[] = [];

    data1.forEach(team => {
      const teamAssignment = data2.find(a => a.supportId === team.supportId);
      if (teamAssignment) {
        const supportData: SupportData = {
          supportId: team.supportId,
          firstName: team.firstName,
          lastName: team.lastName,
          plantId: team.plantId,
          isChangeAnalyst: teamAssignment.isChangeAnalyst,
          isSupportEngineer: teamAssignment.isSupportEngineer,
          isApprover: teamAssignment.isApprover
        };
        mergedData.push(supportData);
      }
    });

    return mergedData;
  }
