SELECT 
    COUNT(CASE WHEN Status = 'Completed' THEN ITCRID END) AS CompletedIDNum,
    COUNT(CASE WHEN Status != 'Completed' THEN ITCRID END) AS NonCompletedIDNum,
    DATEPART(MM, crdate) AS crmonth  
FROM 
    IT.ChangeRequest  
WHERE 
    DATEPART(MM, crdate) BETWEEN DATEPART(MM, GETDATE()) - 6 AND DATEPART(MM, GETDATE())
GROUP BY 
    DATEPART(MM, crdate) 
ORDER BY 
    crmonth DESC


CREATE VIEW ChangeRequestSummary AS
SELECT 
    COUNT(CASE WHEN Status = 'Completed' THEN ITCRID END) AS CompletedIDNum,
    COUNT(CASE WHEN Status != 'Completed' THEN ITCRID END) AS NonCompletedIDNum,
    MONTH(crdate) AS crmonth  
FROM 
    IT.ChangeRequest  
WHERE 
    MONTH(crdate) BETWEEN MONTH(GETDATE()) - 6 AND MONTH(GETDATE())
GROUP BY 
    MONTH(crdate);
SELECT * FROM ChangeRequestSummary ORDER BY crmonth DESC;
Msg 2714, Level 16, State 3, Procedure ChangeRequestSummary, Line 1 [Batch Start Line 0]
There is already an object named 'ChangeRequestSummary' in the database.

