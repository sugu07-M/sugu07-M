  getchangerequest() {

    const apiUrls = this.apiurl + '/ViewChangeRequest/ViewChangerequest';
    let queryParams: any = {};

   /* if (this.selectedPlantIds.length > 0) {
      queryParams['plantId'] = this.selectedPlantIds.join(',');
    }

    if (this.startDate && this.endDate) {
      queryParams['crdate'] = this.startDate + '-' + this.endDate;
    }
*/
    const httpOptions = {
      headers: new HttpHeaders({
        'content-Type': 'application/json'
      }),
       params: queryParams
    };

    this.http.get(apiUrls, httpOptions).subscribe(
      (response: any) => {
        this.changerequest = response;
        this.filter = this.changerequest.filter((item: any) => this.Plant.includes(item.plantId));
        this.countStatus();
        console.log('plant:', this.filter)
      },

      (error) => {
        console.error("Post failed", error);
      }
    );

onFilterChange(): void {
  console.log('filter:', this.selectedPlantIds, this.startDate, this.endDate)
  this.getchangerequest(); 
}

Plant: any = '';
selectedPlantIds:any[] = [];

onSelectedItemsChange(): void {
  console.log("this is the plant ids will come", this.Plant)
  this.Plant = this.selectedPlantIds.map((item: any) => item.item_id);
  alert(this.Plant)
}
