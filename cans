import { DataService } from './data.service';
constructor(private dataService: DataService) { }

public barChartData = this.barchartdata = [
   { data: this.noncompleted, label: 'Open' },
   { data: this.completed, label: 'Completed' }
   ] 
getDataFromAPI(): void {
    this.dataService.getData().subscribe(
      (response: any) =>


updateBarChartLabels(months: any[]) {
    const currentDate = new Date();
    const currentMonth = currentDate.getMonth() + 1; // Months are zero-based in JavaScript, so we add 1
    const currentYear = currentDate.getFullYear();

    const updatedLabels = [];
    for (let i = 5; i >= 0; i--) { // Go back 6 months
      let month = currentMonth - i;
      let year = currentYear;

      if (month <= 0) { // If month becomes negative, adjust year and month accordingly
        month = 12 + month; // Add 12 to get correct month value
        year -= 1; // Move to previous year
      }

      updatedLabels.push(this.getMonthName(month) + ' ' + year);
    }

    this.barChartLabels = updatedLabels;
  }

  getMonthName(month: number): string {
    const monthNames = ["January", "February", "March", "April", "May", "June",
      "July", "August", "September", "October", "November", "December"];
    return monthNames[month - 1];
  }


  public barChartOptions: any = {
   scaleShowVerticalLines: false,
   responsive: true
 };
 public barChartLabels: string[] = this.generateChartLabels();
 public barChartType: Chart.ChartType = 'bar';
 public barChartLegend = true;
 public barChartPlugins = [];
 public barChartData: any[] = [
   { data: this.noncompleted, label: 'Open' },
   console.log(this.noncompleted),
   { data: this.completed, label: 'Completed' },
   console.log(this.completed)
 ]
 
