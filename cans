  selectedItems: any[] = []; // Initialize array to store selected items

 onItemSelect(item: any) {
    this.selectedItems.push(item);
    this.updateApproverStage();
  }

  // Function triggered on item deselect
  onItemDeSelect(item: any) {
    this.selectedItems = this.selectedItems.filter(selectedItem => selectedItem.item_id !== item.item_id);
    this.updateApproverStage();
  }

  // Function triggered on select all
  onSelectAll(items: any) {
    this.selectedItems = items;
    this.updateApproverStage();
  }

  // Function triggered on deselect all
  onUnSelectAll() {
    this.selectedItems = [];
    this.updateApproverStage();
  }

  // Update approverstage based on selected items
  private updateApproverStage() {
     const newApproverStage = this.selectedItems.map(item => item.item_id).join(',');
  if (this.approverstage !== newApproverStage) {
    this.approverstage = newApproverStage;
    console.log('Approver Stage:', this.approverstage);
  }
  }
