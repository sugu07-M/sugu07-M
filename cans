// Import Chart.js and Utils if necessary
// import { Chart, Utils } from 'chart.js';

// Assuming Utils is already defined somewhere or imported

// Define the interface for the action object
interface Action {
  name: string;
  handler: (chart: Chart) => void;
}

// Define the data configuration interface
interface NumberConfig {
  count: number;
  min: number;
  max: number;
}

// Define the data interface
interface Dataset {
  label: string;
  data: number[];
  backgroundColor: string;
}

// Define the data and config objects
const DATA_COUNT: number = 7;
const NUMBER_CFG: NumberConfig = { count: DATA_COUNT, min: -100, max: 100 };

const labels: string[] = Utils.months({ count: 7 });
const data: { labels: string[]; datasets: Dataset[] } = {
  labels: labels,
  datasets: [
    {
      label: 'Dataset 1',
      data: Utils.numbers(NUMBER_CFG),
      backgroundColor: Utils.CHART_COLORS.red,
    },
    {
      label: 'Dataset 2',
      data: Utils.numbers(NUMBER_CFG),
      backgroundColor: Utils.CHART_COLORS.blue,
    },
    {
      label: 'Dataset 3',
      data: Utils.numbers(NUMBER_CFG),
      backgroundColor: Utils.CHART_COLORS.green,
    },
  ],
};

const config: Chart.ChartConfiguration = {
  type: 'bar',
  data: data,
  options: {
    plugins: {
      title: {
        display: true,
        text: 'Chart.js Bar Chart - Stacked',
      },
    },
    responsive: true,
    scales: {
      x: {
        stacked: true,
      },
      y: {
        stacked: true,
      },
    },
  },
};

// Define the actions array
const actions: Action[] = [
  {
    name: 'Randomize',
    handler: (chart: Chart) => {
      chart.data.datasets.forEach((dataset) => {
        dataset.data = Utils.numbers({ count: chart.data.labels.length, min: -100, max: 100 });
      });
      chart.update();
    },
  },
];

export { actions, config };
