 getplant() {
   const apiUrls = this.apiurl + '/Plantid';
   const httpOptions = {
     headers: new HttpHeaders({
       'Content-Type': 'application/json'
     })
   };

   this.http.get(apiUrls, httpOptions).subscribe(
     (response: any) => {
       console.log(response);
       this.dropdownList = response.map((item: { id: any; code: any; }) => ({
         item_id: item.id,
         item_text: item.code
       }));
       console.log(this.dropdownList);
     },
     (error) => {
       console.error('Get plant failed', error);
     }
   );
 }

 dropdownSettings = {
   idField: 'item_id',
   textField: 'item_text',
 };

 onSelectedItemsChange() {
   
 }


<div class="card dashboard_filter" *ngIf="isVisible" style="margin-top: 2%;">
  <div class="card-body dashboard_body_filter">
    <div class="row">
      <div class="col card_plant_filter">
        <div class="multi">
          <ng-multiselect-dropdown [settings]="dropdownSettings"
                                   [data]="dropdownList"
                                   [(ngModel)]="selectedPlantIds"
                                   (ngModelChange)="onFilterChange()">
          </ng-multiselect-dropdown>
        </div>
      </div>
      <div class="col card_plant_filter">
        <input class="input-change" type="date" required placeholder="Start Date" [(ngModel)]="startDate" (change)="onFilterChange()">
      </div>
      <div class="col card_plant_filter">
        <input class="input-change" type="date" required placeholder="End Date" [(ngModel)]="endDate" (change)="onFilterChange()">
      </div>
      <div class="col card_plant_filter">
        <button class="button-overlay" (click)="getchangerequest()">Filter</button>
      </div>
    </div>
  </div>
</div>

 getchangerequest() {

   const apiUrls = this.apiurl + '/ViewChangeRequest/ViewChangerequest';
   const queryParams = {
     startDate: this.startDate,
     endDate: this.endDate,
     plantIds: this.selectedPlantIds.join(',') 
   };

   const httpOptions = {
     headers: new HttpHeaders({
       'content-Type': 'application/json'
     }),
      params: queryParams // Pass query parameters
   };

   this.http.get(apiUrls, httpOptions).subscribe(
     (response: any) => {
       this.changerequest = response;
       this.countStatus();

     },

     (error) => {
       console.error("Post failed", error);
     }
   );
 }
 onFilterChange(): void {
   this.getchangerequest(); 
 }
