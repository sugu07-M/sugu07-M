<table id="excel-table" style="margin-left:12%;width:auto;">
  <thead style="border-bottom:2px solid;">
    <tr>
      <th>Change ID</th>
      <th>Description</th>
      <th>Date</th>
      <th>Change owner</th>
      <th>Initiator</th>
      <th>Classification</th>
      <th>Category</th>
      <th>Category Type</th>
      <th>Nature of Change</th>
      <th>Priority</th>
      <th>Stage</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody>
    <tr class="tr-body" *ngFor="let CRreport of viewchangerequest">
      <td>{{CRreport.crcode}}</td>
      <td>{{CRreport.changeDesc}}</td>
      <td>{{CRreport.crdate | date:'dd-MM-yyyy'}}</td>
      <td>{{CRreport.crowner}}</td>
      <td>{{CRreport.initiatedFor}}</td>
      <td>{{CRreport.classificationName}}</td>
      <td>{{CRreport.categoryName}}</td>
      <td>{{CRreport.categoryType}}</td>
      <td>{{CRreport.natureofChange}}</td>
      <td>
        <span *ngIf="CRreport.priorityType === 1">Very High</span>
        <span *ngIf="CRreport.priorityType === 2">High</span>
        <span *ngIf="CRreport.priorityType === 3">Medium</span>
        <span *ngIf="CRreport.priorityType === 4">Low</span>
        <span *ngIf="CRreport.priorityType === 5">Very Low</span>
      </td>
      <td>{{CRreport.stage}}</td>
      <td>{{CRreport.status}}</td>
    </tr>
  </tbody>
</table>


 ngOnInit(): void {
    this.getChangeRequest();
  }

  getChangeRequest() {
    const apiUrls = this.apiurl + '/ViewChangeRequest/ViewChangerequest';
    this.http.get<ChangeRequest[]>(apiUrls).subscribe(
      (response) => {
        this.viewchangerequest = response;
        this.filterChangeRequest();
      },
      (error) => {
        console.error("GET request failed", error);
      }
    );
  }


 crcode: number;
  changeDesc: string;
  crdate: Date;
  crowner: string;
  initiatedFor: string;
  classificationName: string;
  categoryName: string;
  categoryType: string;
  natureofChange: string;
  priorityType: number;
  stage: string;
  status: string;
  viewchangerequest: ChangeRequest[] = [];
  filterChangeRequest() {
    // Filter data to include only items with the "Release" status
    this.viewchangerequest = this.viewchangerequest.filter(item => item.status.trim() === 'Release');
  }
