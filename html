chartClicked(event: any) {
  if (event.active.length > 0) {
    const chartData = event.active[0]._chart.data;
    const selectedIndex = event.active[0]._index;
    const selectedLabel = chartData.labels[selectedIndex];
    const selectedValue = chartData.datasets[event.active[0]._datasetIndex].data[selectedIndex];

    // Check if open or completed is clicked
    if (event.active[0]._datasetIndex === 0) {
      // Navigate to details page for open items
      this.router.navigate(['/bar-details'], { queryParams: { type: 'open', month: selectedLabel } });
    } else if (event.active[0]._datasetIndex === 1) {
      // Navigate to details page for completed items
      this.router.navigate(['/bar-details'], { queryParams: { type: 'completed', month: selectedLabel } });
    }
  }
}


ngOnInit() {
  this.route.queryParams.subscribe(params => {
    const type = params['type'];
    const month = params['month'];
    // Fetch data based on type and month
    if (type === 'open') {
      // Fetch open data for the specified month
    } else if (type === 'completed') {
      // Fetch completed data for the specified month
    }
  });
}

 public chartClicked(e: any): void {
    if (e.active && e.active.length > 0) {
      const chart = e.active[0]._chart;
      const activePoints = chart.getElementAtEvent(e.event);
      if (activePoints.length > 0) {
        const clickedElementIndex = activePoints[0]._index;
        const label = chart.data.labels[clickedElementIndex];
        const datasetLabel = chart.data.datasets[activePoints[0]._datasetIndex].label;
        if (datasetLabel === 'Open') {
          // Handle drill-down for Open data
          this.showOpenDataForMonth(label);
        } else if (datasetLabel === 'Completed') {
          // Handle drill-down for Completed data
          this.showCompletedDataForMonth(label);
        }
      }
    }
  }

  showOpenDataForMonth(month: string) {
    // Navigate or show detailed data for Open tasks for the selected month
    // You can implement navigation logic or display detailed data in a modal or another component
    console.log('Showing Open data for month:', month);
  }

  showCompletedDataForMonth(month: string) {
    // Navigate or show detailed data for Completed tasks for the selected month
    // You can implement navigation logic or display detailed data in a modal or another component
    console.log('Showing Completed data for month:', month);
  }
