 updateChartData(): void {
    const monthlyData = [];
    const currentDate = new Date();
    const currentMonth = currentDate.getMonth();
    const currentYear = currentDate.getFullYear();

    // Loop through past 6 months including the current month
    for (let i = 6; i >= 0; i--) {
      const month = (currentMonth - i + 12) % 12; // Ensure it loops around to January after December
      const year = currentYear - (i > currentMonth ? 1 : 0);

      // Calculate total count for each month
      const totalCount = this.getTotalCountForMonth(month, year);
      monthlyData.push(totalCount);
    }

    // Update bar chart data
    this.barChartData = [{ data: monthlyData, label: 'Monthly Total' }];
  }




data() {

    this.requestcount = this.changerequest.filter(item => {
      const itemDate = new Date(item.crdate);
      return itemDate.getMonth() + 1 === month && itemDate.getFullYear() === year;
    }).length;
    }
 generateMonthLabels(): string[] {
   const labels = [];
   const currentDate = new Date();
   const currentMonth = currentDate.getMonth();
   const currentYear = currentDate.getFullYear();

   // Add the past 6 months
   for (let i = 6; i > 0; i--) {
     const month = (currentMonth - i + 12) % 12; // Ensure it loops around to January after December
     const year = currentYear - (i > currentMonth ? 1 : 0);
     labels.push(this.getMonthYearName(month, year));
   }

   // Add the current month
   labels.push(this.getMonthYearName(currentMonth, currentYear));
    if (labels.length > 6) {
   labels.shift(); // Remove the first element (oldest month)
 }

   return labels;
 }
 getMonthYearName(monthIndex: number, year: number): string {
   const date = new Date(year, monthIndex, 1);
   return date.toLocaleString('en-US', { month: 'short', year: 'numeric' });
 }
 public barChartData: any[] = this.data();

 // events
 public chartClicked(e: any): void {
   // console.log(e);
 }

  /*public chartHovered(e: any): void {
    // console.log(e);
  }*/

 public randomize(): void {
   // Only Change 3 values
   const data = [
     Math.round(Math.random() * 100),
     59,
     80,
     (Math.random() * 100),
     56,
     (Math.random() * 100),
     40];
   const clone = JSON.parse(JSON.stringify(this.barChartData));
   clone[0].data = data;
   this.barChartData = clone;
