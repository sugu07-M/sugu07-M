 if (labels.length > 6) {
    labels.shift(); // Remove the first element (oldest month)
  }


generateMonthLabels(): string[] {
   const labels = [];
   const currentDate = new Date();
   const currentMonth = currentDate.getMonth();
   const currentYear = currentDate.getFullYear();

   // Add the past 6 months
   for (let i = 6; i > 0; i--) {
     const month = (currentMonth - i + 12) % 12; // Ensure it loops around to January after December
     const year = currentYear - (i > currentMonth ? 1 : 0);
     labels.push(this.getMonthYearName(month, year));
   }

   // Add the current month
   labels.push(this.getMonthYearName(currentMonth, currentYear));

   return labels;
 }
 getMonthYearName(monthIndex: number, year: number): string {
   const date = new Date(year, monthIndex, 1);
   return date.toLocaleString('en-US', { month: 'short', year: 'numeric' });
 }


chartdata() {
  this.requestcount = this.changerequest.filter(item => item.crdate === 'crdate').length; 
}



 generateMonthLabels(): string[] {
    const labels: string[] = [];
    const currentDate = new Date();
    const currentMonth = currentDate.getMonth();
    const currentYear = currentDate.getFullYear();

    // Add the past 6 months
    for (let i = 6; i > 0; i--) {
      const month = (currentMonth - i + 12) % 12; // Ensure it loops around to January after December
      const year = currentYear - (i > currentMonth ? 1 : 0);
      labels.push(`${year}-${(month + 1).toString().padStart(2, '0')}`); // Pad month with leading zero
    }

    // Add the current month
    labels.push(`${currentYear}-${(currentMonth + 1).toString().padStart(2, '0')}`); // Pad month with leading zero

    return labels;
  }
  
chartdata() {
   const currentDate = new Date();
   const currentMonth = currentDate.getMonth() + 1; // Adding 1 because getMonth() returns zero-based index
   const currentYear = currentDate.getFullYear();
   
   const monthlyCounts = [];
   
   // Loop through past 6 months including current month
   for (let i = 6; i >= 0; i--) {
      const month = (currentMonth - i + 12) % 12 || 12; // Ensure it loops around to December after January
      const year = currentYear - (i > currentMonth ? 1 : 0);
      
      const count = this.changerequest.filter(item => {
         const itemDate = new Date(item.crdate);
         return itemDate.getMonth() + 1 === month && itemDate.getFullYear() === year;
      }).length;
      
      monthlyCounts.push(count);
   }
   
   // Use monthlyCounts array to render the bar chart
}
